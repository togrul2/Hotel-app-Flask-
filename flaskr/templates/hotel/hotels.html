{% extends 'base.html' %}

{% block title %}Hotels{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/hotels.css') }}">
{% endblock %}

{% block body %}
<div class="container">
    <h1>Hotels</h1>
    <div class="custom-grid">
      {% for hotel in hotels %}
        <div class="card" style="width: 18rem;">
          {% with images = getImages(hotel.id) %}
            {% if images|length > 0 %}
                <img src="{{ url_for('static', filename='uploads/'+images[0].source) }}" alt="">
            {% else %}
              <svg class="bd-placeholder-img card-img-top" width="100%" height="180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Image cap" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <rect width="100%" height="100%" fill="#868e96"></rect>
                <text x="25%" y="50%" fill="#dee2e6" dy=".3em">{{ hotel.name }}</text>
              </svg>
            {% endif %}
          {% endwith %}
          <div class="card-body">
            <h5 class="card-title">{{ hotel.name }}</h5>
            <p class="card-text">{{ hotel.description }}</p>
            <a href="#" class="btn btn-primary">View</a>
          </div>
        </div>
      {% endfor %}
    </div>
    {% if num_of_pages > 1 %}
    <nav class="mt-3" aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        {% if page != 1 %}
        <li class="page-item">
            <a class="page-link">Previous</a>
        </li>
        {% endif %}
        {% for page in range(1, num_of_pages + 1) %}
        <li class="page-item"><a class="page-link" href="{{ url_for('hotel.hotels', page=page, per_page=request.args.get(per_page, 4)) }}">{{ page }}</a></li>
        {% endfor %}
        {% if page != num_of_pages %}
        <li class="page-item">
            <a class="page-link" href="#">Next</a>
        </li>
        {% endif %}
      </ul>
    </nav>
    {% endif %}
</div>
{% endblock %}
